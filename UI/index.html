<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <title>Larze Neghar</title>
      <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="css/index.css">
      <link rel="stylesheet" type="text/css" href="css/main.css">
    </head>
    <body>
     <!--  <header>
        <nav class="topnav flex-row space-around" id="myTopnav">
             <a class="activeNav" href="index.html">Control Panel</a>
             <a href="Visualisation.html">Visualisation</a>
          </ul>
        </nav>
      </header> -->
      <div class="container" style="margin-top: 2%;max-width: 2000px;" id="app" xmlns="http://www.w3.org/1999/html">
<!-- Tab links -->
<div class="tab" style="direction: ltr;">
  <button class="tablinks active" id="defaultOpen" onclick="openCity(event, 'channels')">Channels Configuration/Monitoring</button>
  <button class="tablinks" onclick="openCity(event, 'Config')">EEW Configuration</button>
  <button class="tablinks" onclick="openCity(event, 'Charts')">Charts</button>
</div>
<!--   <div class="flex-row space-around">
    <a href="menuCategory.html" class="btn btn-primary">اضافه کردن دسته</a>
    <a href="" class="btn btn-primary">اضافه کردن غذا</a>
  </div>
  <hr/> -->
  <!-- channels -->
 <div id="channels" class="tabcontent"  style="display: block;">
   <table class="table table-striped table-responsive">
    <thead>
      <tr>
        <th>Channel Number</th>
        <th>Router Number</th>
        <th>Unit Number</th>
        <th>Description</th>
        <th>Router Battery(%)</th>
        <th>Sensor Battery(%)</th>
        <th>Anten Signal</th>
       <!--  <th>LowPass Frequency</th>
        <th>HighPass Frequency</th> -->
        <th>Saving on Local</th>
        <!--         <th>Saving on Web</th>
        <th>Sending to Web</th> -->
      </tr>
    </thead>
    <tbody id="tableBody">
    </tbody>
  </table>
  <br/>
  <div class="flex-row space-around">
      <div class="form-group flex-row col-md-6">
          <label class="col-lg-3 col-md-4 col-sm-4">on Ground : </label>
          <select class="form-control col-lg-4 col-md-4 col-sm-6" id="groundPosition">
              <option id="groundPositionOption">-</option>
          </select>
      </div>
      <div class="form-group flex-row col-md-6">
          <label class="col-lg-3 col-md-4 col-sm-4">on Roof : </label>
          <select class="form-control col-lg-4 col-md-4 col-sm-6" id="roofPosition">
              <option id="roofPositionOption">-</option>
          </select>
      </div>
  </div>
  <!--<div class="flex-row space-around">-->
    <div class="form-check-inline">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" id="activateAlgorithm" checked>Activate EEW during Test
     </label>
   </div>
   <br/>
   <button class="btn btn-success" id="saveSensorInfo" style="margin: auto;display: block;">Apply</button>
  <!--</div>-->
   <br/>
   <div class="flex-row space-around">
     <div class="row">
         <button class="btn btn-info" id="releaseAlarm">Release Alarm</button>
         <button class="btn btn-info ml-1" id="stopAlarm">Stop Alarm</button>      
     </div>
     <div>
         <button class="btn btn-info" id="colibrate">Colibrate</button>   
     </div>
     <div class="row">
       <button class="btn btn-info" id="runTest">Run Test</button>
       <button class="btn btn-info ml-1" id="stopTest">Stop Test</button> 
     </div>
   </div>
  <br/>
 </div>


 <!-- Config -->
 <div id="Config" class="tabcontent"> 
    <div class="flex-row space-around">
      <div class="flex-column">
        <br/><br/>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Acc-treshold</label><input name="accTreshold" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Double</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">High Pass</label><input name="highPass" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Hz</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Low Pass</label><input name="lowPass" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Hz</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Long Point</label><input name="longPoint" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Integer</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Short Point</label><input name="shortPoint" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Integer</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Sta/Lta treshold</label><input name="staLtaTreshold" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Integer</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">Win length</label><input name="winLength" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Integer</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">a1</label><input name="a1" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Double</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">a2</label><input name="a2" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Double</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">a3</label><input name="a3" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Double</small>
        </div>
        <div class="flex-row flex-start flex-center-align" style="margin-bottom: 1%;">
          <label class="col-md-4">a4</label><input name="a4" class="form-control col-md-3" type="text" name="" value=""><small class="col-md-2">Double</small>
        </div>
      </div>
  
    </div>
    <br/>
   <button class="btn btn-success" id="configSubmit" style="margin: auto;display: block;">Submit</button>
  <br/>
 </div>

 <!-- Charts -->
 <div id="Charts" class="tabcontent">
    <div class="flex-column">
      <div class="flex-row space-around">
        <!-- charts -->
        <div style="width:80%; margin-right: 2%;">
         <div style="width:100%;">
            <canvas id="canvas"></canvas>
         </div>
         <div style="width:100%; margin-top: 2%;">
            <canvas id="FFTCanvas"></canvas>
         </div>
         <br/>
         <h3>Earthquake</h3>
           <div style="height: 400px;overflow-y: auto;">
            <table class="table table-striped table-responsive">
                <thead>
                <tr>
                    <!-- <th></th> -->
                    <th>Delete</th>
                    <th>Date-time</th>
                    <th>Estimated Magnitude</th>
                    <th>PGA-L1</th>
                    <th>PGA-L2</th>
                    <th>PGA-V</th>
                    <th>PBA-L1</th>
                    <th>PBA-L2</th>
                    <th>PBA-V</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody id="tableEarthquake" >
                </tbody>
            </table>
            </div>
            <div class="mx-auto text-center">
              <button class="btn btn-info" id="deleteSelectedItem">Delete</button>
            </div>
        </div>
        <!-- select charts -->
        <div class="flex-column" style="width: 15%;">
            <br/><br/><br/>
          <div class="row">
            <div class="form-group">
              <select class="form-control" id="firstChart">
                <option id="chart1Option">-</option>
              </select>
            </div>
            <div class="form-group">
             <select class="form-control ml-1" id="firstChartBordar">
               <option>X</option><option>Y</option><option>Z</option>
             </select>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
             <select class="form-control" id="secondChart">
               <option id="chart2Option">-</option>
             </select>
            </div>
            <div class="form-group">
              <select class="form-control ml-1" id="secondChartBordar">
                <option>X</option><option>Y</option><option>Z</option>
             </select>
           </div>
          </div>
          <div class="row">
            <div class="form-group">
              <select class="form-control" id="thirdChart">
                <option id="chart3Option">-</option>
              </select>
            </div>
            <div class="form-group">
              <select class="form-control ml-1" id="thirdChartBordar">
                <option>X</option><option>Y</option><option>Z</option>
              </select>
            </div>
          </div>
          <!-- <button class="btn btn-info" id="applyChartSelect">Apply</button> -->
          <br/><br/><br/><br/><br/><br/>
          <div class="form-group">
             <label for="FFT">Window length for FFT</label>
             <input type="number" class="form-control" id="FFT" value="5">
          </div>
          <br/><br/><br/>
          <div class="form-group">
            <label for="frequencyRange" id="frequencyRangeValue">200 Hz</label>
            <input type="range" class="form-control-range" min="10" max="200" value="200" id="frequencyRange" />
          </div>
          <br/>
          <button class="btn btn-info" id="applyChartSelect">Apply</button>
        </div>
      </div>
    </div>
   <br/>
 </div>
</div>
<!-- The Modal -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <h3 class="text-center" id="modalMessage"></h3>
  </div>
</div>
<style>

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
</style>
      <!-- Insert this line above script imports  -->
<!-- <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script> -->

<!-- normal script imports etc  -->
<!-- <script src="js/jquery.js"></script>     -->
<!-- <script src="js/main.js"></script>     -->

<!-- Insert this line after script imports -->
<!-- <script>if (window.module) module = window.module;</script> -->

      <script type="text/javascript">
        function openCity(evt, cityName) {
        // Declare all variables
        var i, tabcontent, tablinks;

        // Get all elements with class="tabcontent" and hide them
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
      }

    // Get the element with id="defaultOpen" and click on it
    // document.getElementById("defaultOpen").click();
    window.$ = window.jQuery = require('./js/jquery.js');
    // window.$ = window.jQuery = require('jquery');
         // require("./js/jquery.js");
         // require("./js/dsp.js");
         // require("./js/notify.js");
         require("./js/Chart.min.js");
         require("./js/utils.js");
         require("./js/toast.min.js"); 
         require("./js/main.js");
         require("./js/chartHandler.js"); 
         

       // var fft = new FFT(10, 10);
       // fft.forward([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
       // var spectrum = fft.spectrum;
       // console.log("FFT :");
       // console.log(spectrum);
      </script>
    </body>
  </html>
